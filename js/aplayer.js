const MainAPlayer=(()=>{const e={},a={init:()=>{e.id=volantis.APlayerController.id,e.volume=volantis.APlayerController.volume},checkAPlayer:()=>{void 0===e.player?a.setAPlayerObject():void 0===e.observer&&a.setAPlayerObserver()},setAPlayerObject:()=>{let l=document.querySelectorAll(".footer meting-js")||[];0==l.length&&(l=document.querySelectorAll("meting-js")||[]),l.forEach(((r,t)=>{r.meta.id==e.id&&null!=l[t].aplayer&&(e.player=l[t].aplayer,a.setAPlayerObserver(),a.updateTitle())}))},setAPlayerObserver:()=>{try{e.player.on("play",(function(e){a.updateAPlayerControllerStatus(e)})),e.player.on("pause",(function(e){a.updateAPlayerControllerStatus(e)})),e.player.on("volumechange",(function(e){a.onUpdateAPlayerVolume(e)})),e.player.on("loadstart",(function(e){a.updateTitle(e)})),e.volumeBarWrap=document.getElementsByClassName("nav volume")[0].children[0],e.volumeBar=e.volumeBarWrap.children[0];const l=e=>{a.updateAPlayerVolume(e)},r=t=>{e.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",l),a.updateAPlayerVolume(t)};e.volumeBarWrap.addEventListener("mousedown",(a=>{a.stopPropagation(),e.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener("mousemove",l),document.addEventListener("mouseup",r)})),e.volumeBarWrap.addEventListener("click",(e=>{e.stopPropagation()})),a.updateAPlayerControllerStatus(),a.onUpdateAPlayerVolume(),e.observer=!0}catch(a){console.log(a),e.observer=void 0}},updateAPlayerVolume:a=>{let l=((a.clientX||a.changedTouches[0].clientX)-e.volumeBar.getBoundingClientRect().left)/e.volumeBar.clientWidth;l=Math.max(l,0),l=Math.min(l,1),e.player.volume(l)},onUpdateAPlayerVolume:()=>{try{e.volumeBar.children[0].style.width=100*e.player.audio.volume+"%"}catch(e){console.log(e)}},updateAPlayerControllerStatus:()=>{try{e.player.audio.paused?(volantis.APlayerController.status="pause",document.getElementsByClassName("nav toggle")[0].children[0].classList.add("fa-play"),document.getElementsByClassName("nav toggle")[0].children[0].classList.remove("fa-pause")):(volantis.APlayerController.status="play",document.getElementsByClassName("nav toggle")[0].children[0].classList.remove("fa-play"),document.getElementsByClassName("nav toggle")[0].children[0].classList.add("fa-pause"))}catch(e){console.log(e)}},aplayerToggle:()=>{a.checkAPlayer();try{e.player.toggle()}catch(e){console.log(e)}},aplayerBackward:()=>{a.checkAPlayer();try{e.player.skipBack(),e.player.play()}catch(e){console.log(e)}},aplayerForward:()=>{a.checkAPlayer();try{e.player.skipForward(),e.player.play()}catch(e){console.log(e)}},aplayerVolume:l=>{a.checkAPlayer();try{e.player.volume(l)}catch(e){console.log(e)}},updateTitle:()=>{a.checkAPlayer();try{const a=e.player.list.index,l=e.player.list.audios[a];document.getElementsByClassName("nav music-title")[0].innerHTML=l.title}catch(e){console.log(e)}}};return{init:()=>{a.init()},checkAPlayer:()=>{a.checkAPlayer()},aplayerBackward:()=>{a.aplayerBackward()},aplayerToggle:()=>{a.aplayerToggle()},aplayerForward:()=>{a.aplayerForward()}}})();Object.freeze(MainAPlayer),volantis.requestAnimationFrame((()=>{MainAPlayer.init(),MainAPlayer.checkAPlayer()}));